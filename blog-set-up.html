<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Creating A Blog with GitHub Pages and Jekyll | Piya Gehi</title><meta name="description" content="Welcome to my space on the internet."><link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/favicon.ico" type="image/x-icon"><link href='/feed.xml' rel='alternate' type='application/atom+xml'><link rel="canonical" href="/blog-set-up"><link rel="stylesheet" href="/assets/style.css"><link rel="stylesheet" href="/assets/syntax.css" /><body><main><h1 class="title">Piya Gehi</h2><nav> <a href="https://piyagehi.github.io">Home</a> <a href="https://piyagehi.github.io/blog">Blog</a></nav><h1>Creating A Blog with GitHub Pages and Jekyll</h1><p><time>2022-12-16</time></p><details class="toc"><summary><b>Table Of Contents</b></summary><ul><li><a href="#hosting---github-pages">Hosting - GitHub Pages</a><li><a href="#site-generator---jekyll">Site generator - Jekyll</a><li><a href="#local-setup">Local Setup</a><li><a href="#theme---bear-blog">Theme - Bear Blog</a><li><a href="#add-content">Add content</a><li><a href="#publish-your-website">Publish your website</a></ul></details><p>I have written blogs before on existing web-based blogging platforms like Blogger and Tumblr, lots of them. For this website, I was looking for fewer features that I could fine-tune locally on my machine. Keeping this in mind, GitHub Pages with Jekyll seemed like the best option. I’ve documented the process step-by-step in the form of a setup post, hoping it might help those who are looking to setup their own website.</p><h2 id="hosting---github-pages"> Hosting - GitHub Pages <a href="#hosting---github-pages"><svg class='octicon' viewBox='0 0 16 19' version='1.1' width='20' height='25' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a></h2><p><a href="https://pages.github.com">GitHub Pages</a> is a static site hosting service that takes HTML, CSS, and JavaScript files straight from a repository on GitHub, optionally runs the files through a build process, and publishes a website. Using GitHub Pages for hosting the website seemed ideal since I’m familiar with GitHub and already have repositories there.</p><p>Start by creating a repository with the name <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io</code>, replacing <code class="language-plaintext highlighter-rouge">&lt;username&gt;</code> with your GitHub username. Next, we move on to creating the files for the wesbite.</p><h2 id="site-generator---jekyll"> Site generator - Jekyll <a href="#site-generator---jekyll"><svg class='octicon' viewBox='0 0 16 19' version='1.1' width='20' height='25' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a></h2><p>To create your website, you can do it from scratch by creating HTML and CSS files for each part of your website, or automate the process using a static site generator. The pages are pre-built before publishing, which leads to faster loading times and a lightweight website. <a href="https://jekyllrb.com">Jekyll</a> is one such site generator, which is the site generator used in GitHub Pages. It takes Markdown and HTML files and builds the website based on the layouts provided by the theme.</p><h2 id="local-setup"> Local Setup <a href="#local-setup"><svg class='octicon' viewBox='0 0 16 19' version='1.1' width='20' height='25' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a></h2><p>Setting a Jekyll requires Ruby and Git to be installed on your machine. Git is usually installed by default, and the instructions for installing Ruby on different operating systems can be found <a href="https://jekyllrb.com/docs/installation/">here</a>.</p><p>Note: While installing this on a Mac M1 machine, the build kept failing due to errors relating to OpenSSL. So if you’re facing a similar problem, adding the following environement variables before the install command should help.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">"-L</span><span class="si">$(</span>brew <span class="nt">--prefix</span> capstone<span class="si">)</span><span class="s2">/lib"</span>
<span class="nb">export </span><span class="nv">CPPFLAGS</span><span class="o">=</span><span class="s2">"-I</span><span class="si">$(</span>brew <span class="nt">--prefix</span> capstone<span class="si">)</span><span class="s2">/include"</span>
<span class="nb">export </span><span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span>brew <span class="nt">--prefix</span> openssl@1.1<span class="si">)</span><span class="s2">/lib/pkgconfig"</span>
</code></pre></div></div><p>Once installed, create your new website by typing <code class="language-plaintext highlighter-rouge">jekyll new &lt;directory name&gt;</code>. This provides a base theme to begin with, however you can modify it to your needs, which will be discussed in the next section. You can run the blog locally by typing:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>bundle <span class="nb">exec </span>jekyll serve <span class="nt">--watch</span>
</code></pre></div></div><h2 id="theme---bear-blog"> Theme - Bear Blog <a href="#theme---bear-blog"><svg class='octicon' viewBox='0 0 16 19' version='1.1' width='20' height='25' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a></h2><p>There are a couple of sites where you can find Jekyll themes, they are listed in the <a href="https://jekyllrb.com/docs/themes/">Jekyll documentation</a>. After a lot of searching, I chose <a href="https://github.com/knhash/jekyllBear">jekyllBear</a>, a theme based on <a href="https://bearblog.dev">Bear Blog</a>, a writing-focused blogging platform. It has few but important features, making it easy to manage and also add/tweak stuff in the future. Using the <a href="https://github.com/knhash/jekyllBear#installation">installation instructions</a>, I made changes to the required files in my website repository and added/modified files if required.</p><p>Additionally, you can make changes to the theme itself like modifying the CSS, adding <a href="https://mcpride.github.io/posts/development/2018/03/06/syntax-highlighting-with-jekyll/">syntax highlighting functionality</a> or adding <a href="https://jekyllrb.com/docs/plugins/installation/">Jekyll plguins</a>.</p><h2 id="add-content"> Add content <a href="#add-content"><svg class='octicon' viewBox='0 0 16 19' version='1.1' width='20' height='25' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a></h2><p>The theme provides some basic files to add content to, for example an <code class="language-plaintext highlighter-rouge">index.md</code> file for the home page, an <code class="language-plaintext highlighter-rouge">about.md</code> for the about page, and a <code class="language-plaintext highlighter-rouge">_posts</code> directory where you can create blog posts. Create your first post by adding a file in the <code class="language-plaintext highlighter-rouge">_posts</code> directory with the following format: <code class="language-plaintext highlighter-rouge">year-month-date-posttitle.md</code>. You can use the existing posts in the directory as a way to know what format to follow for the content.</p><h2 id="publish-your-website"> Publish your website <a href="#publish-your-website"><svg class='octicon' viewBox='0 0 16 19' version='1.1' width='20' height='25' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg></a></h2><p>Now that you have your content and theme ready, it’s time to publish your site to GitHub Pages. Firstly, if your repository is not initialized as a git repository by this stage, enter the following commands:</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git init
<span class="nv">$ </span>git remote add origin &lt;website_repo_url&gt;.git
</code></pre></div></div><p>This initializes the repository and adds the url of where to push the commits to, which is your website repository.</p><p>Lastly, I wanted to publish only the files from the build of the site and not the source files. <a href="https://gist.github.com/cobyism/4730490">This gist</a> explains on how to publish a subfolder to GitHub Pages. Based on it, I created a script that I can call whenever I want to publish a post or update any part of the website.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#! /bin/bash</span>
<span class="c"># Usage: ./publish &lt;message&gt;</span>
jekyll build
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
git subtree push <span class="nt">--prefix</span> _site origin main
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">jekyll build</code> build the website files and stores it in the <code class="language-plaintext highlighter-rouge">_site</code> directory. The files are added and a commit is made with a message of choice, entered as the first parameter when running the script (hence the <code class="language-plaintext highlighter-rouge">$1</code>). The <code class="language-plaintext highlighter-rouge">git subtree</code> command pushes the contents of the <code class="language-plaintext highlighter-rouge">_site</code> subfolder to GitHub.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">chmod</span> +x publish
<span class="nv">$ </span>./publish <span class="s2">"Initial commit"</span>
</code></pre></div></div><p>Once the script is run, you can see the files in your repository (<a href="https://github.com/piyagehi/piyagehi.github.io">example</a>). Once the build is complete on GitHub (this may take some time with a green tick should appear next to the recent commit’s hash), the content will appear on <code class="language-plaintext highlighter-rouge">&lt;username&gt;.github.io</code>, the way you see this website here!</p></main><a href="/tagged/blog">#blog</a> <a href="/tagged/jekyll">#jekyll</a> <a href="/tagged/github-pages">#github-pages</a><footer> <a href="/blog">← Back to all posts</a><div class="bottom-footer"> © 2022 <a href="/">Piya Gehi</a> Theme <a href="https://knhash.in/jekyllBear" title="the art">jekyllBear</a> built and maintained by <a href="https://knhash.in" title="the artist">knhash</a></footer>
